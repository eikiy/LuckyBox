!function(s){var a=s(".pushy"),n=s("body"),e=s("#container"),t=s(".push"),o="pushy-left",r="pushy-open-left",i="pushy-open-right",l=s(".site-overlay"),u=s(a.data("focus")),m=200,f=a.width()+"px",c=".pushy-submenu",d="pushy-submenu-open",h="pushy-submenu-closed";s(c);if(void 0!==a.data("menu-btn-class"))var p=a.data("menu-btn-class");else p=".menu-btn";var C=s(p+", .pushy-link"),v=s(p);function y(){a.hasClass(o)?n.toggleClass(r):n.toggleClass(i),u&&a.one("transitionend",function(){u.focus()})}function g(){a.hasClass(o)?(n.addClass(r),a.animate({left:"0px"},m),e.animate({left:f},m),t.animate({left:f},m)):(n.addClass(i),a.animate({right:"0px"},m),e.animate({right:f},m),t.animate({right:f},m)),u&&u.focus()}function b(){a.hasClass(o)?(n.removeClass(r),a.animate({left:"-"+f},m),e.animate({left:"0px"},m),t.animate({left:"0px"},m)):(n.removeClass(i),a.animate({right:"-"+f},m),e.animate({right:"0px"},m),t.animate({right:"0px"},m))}function x(){s(c).addClass(h),s(c).on("click",function(a){var n=s(this);n.hasClass(h)?(n.siblings(c).addClass(h).removeClass(d),n.removeClass(h).addClass(d)):n.addClass(h).removeClass(d),a.stopPropagation()})}s(document).keyup(function(s){27==s.keyCode&&(n.hasClass(r)||n.hasClass(i))&&(k?a.hasClass(o)?n.removeClass(r):n.removeClass(i):(b(),w=!1),v&&v.focus())});var k=function(){var s=document.createElement("p"),a=!1,n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};if(null!==document.body){for(var e in document.body.insertBefore(s,null),n)void 0!==s.style[e]&&(s.style[e]="translate3d(1px,1px,1px)",a=window.getComputedStyle(s).getPropertyValue(n[e]));return document.body.removeChild(s),void 0!==a&&a.length>0&&"none"!==a}return!1}();if(k)x(),C.on("click",function(){y()}),l.on("click",function(){y()});else{n.addClass("no-csstransforms3d"),a.hasClass(o)?a.css({left:"-"+f}):a.css({right:"-"+f}),e.css({"overflow-x":"hidden"});var w=!1;x(),C.on("click",function(){w?(b(),w=!1):(g(),w=!0)}),l.on("click",function(){w?(b(),w=!1):(g(),w=!0)})}}(jQuery);
!function(b){b.flexslider=function(f,e){var g=b(f);g.vars=b.extend({},b.flexslider.defaults,e);var t,d=g.vars.namespace,h=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,u=("ontouchstart"in window||h||window.DocumentTouch&&document instanceof DocumentTouch)&&g.vars.touch,o="click touchend MSPointerUp",s="",m="vertical"===g.vars.direction,v=g.vars.reverse,_=0<g.vars.itemWidth,y="fade"===g.vars.animation,p=""!==g.vars.asNavFor,x={};b.data(f,"flexslider",g),x={init:function(){g.animating=!1,g.currentSlide=parseInt(g.vars.startAt?g.vars.startAt:0),isNaN(g.currentSlide)&&(g.currentSlide=0),g.animatingTo=g.currentSlide,g.atEnd=0===g.currentSlide||g.currentSlide===g.last,g.containerSelector=g.vars.selector.substr(0,g.vars.selector.search(" ")),g.slides=b(g.vars.selector,g),g.container=b(g.containerSelector,g),g.count=g.slides.length,g.syncExists=0<b(g.vars.sync).length,"slide"===g.vars.animation&&(g.vars.animation="swing"),g.prop=m?"top":"marginLeft",g.args={},g.manualPause=!1,g.stopped=!1,g.started=!1,g.startTimeout=null,g.transitions=!g.vars.video&&!y&&g.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var a in t)if(void 0!==e.style[t[a]])return g.pfx=t[a].replace("Perspective","").toLowerCase(),g.prop="-"+g.pfx+"-transform",!0;return!1}(),""!==g.vars.controlsContainer&&(g.controlsContainer=0<b(g.vars.controlsContainer).length&&b(g.vars.controlsContainer)),""!==g.vars.manualControls&&(g.manualControls=0<b(g.vars.manualControls).length&&b(g.vars.manualControls)),g.vars.randomize&&(g.slides.sort(function(){return Math.round(Math.random())-.5}),g.container.empty().append(g.slides)),g.doMath(),g.setup("init"),g.vars.controlNav&&x.controlNav.setup(),g.vars.directionNav&&x.directionNav.setup(),g.vars.keyboard&&(1===b(g.containerSelector).length||g.vars.multipleKeyboard)&&b(document).bind("keyup",function(e){var t=e.keyCode;if(!g.animating&&(39===t||37===t)){var a=39===t?g.getTarget("next"):37===t&&g.getTarget("prev");g.flexAnimate(a,g.vars.pauseOnAction)}}),g.vars.mousewheel&&g.bind("mousewheel",function(e,t,a,i){e.preventDefault();var n=t<0?g.getTarget("next"):g.getTarget("prev");g.flexAnimate(n,g.vars.pauseOnAction)}),g.vars.pausePlay&&x.pausePlay.setup(),g.vars.slideshow&&g.vars.pauseInvisible&&x.pauseInvisible.init(),g.vars.slideshow&&(g.vars.pauseOnHover&&g.hover(function(){g.manualPlay||g.manualPause||g.pause()},function(){g.manualPause||g.manualPlay||g.stopped||g.play()}),g.vars.pauseInvisible&&x.pauseInvisible.isHidden()||(0<g.vars.initDelay?g.startTimeout=setTimeout(g.play,g.vars.initDelay):g.play())),p&&x.asNav.setup(),u&&g.vars.touch&&x.touch(),(!y||y&&g.vars.smoothHeight)&&b(window).bind("resize orientationchange focus",x.resize),g.find("img").attr("draggable","false"),setTimeout(function(){g.vars.start(g)},200)},asNav:{setup:function(){g.asNav=!0,g.animatingTo=Math.floor(g.currentSlide/g.move),g.currentItem=g.currentSlide,g.slides.removeClass(d+"active-slide").eq(g.currentItem).addClass(d+"active-slide"),h?(f._slider=g).slides.each(function(){var e=this;e._gesture=new MSGesture,(e._gesture.target=e).addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),e.addEventListener("MSGestureTap",function(e){e.preventDefault();var t=b(this),a=t.index();b(g.vars.asNavFor).data("flexslider").animating||t.hasClass("active")||(g.direction=g.currentItem<a?"next":"prev",g.flexAnimate(a,g.vars.pauseOnAction,!1,!0,!0))})}):g.slides.click(function(e){e.preventDefault();var t=b(this),a=t.index();t.offset().left-b(g).scrollLeft()<=0&&t.hasClass(d+"active-slide")?g.flexAnimate(g.getTarget("prev"),!0):b(g.vars.asNavFor).data("flexslider").animating||t.hasClass(d+"active-slide")||(g.direction=g.currentItem<a?"next":"prev",g.flexAnimate(a,g.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){g.manualControls?x.controlNav.setupManual():x.controlNav.setupPaging()},setupPaging:function(){var e,t,a="thumbnails"===g.vars.controlNav?"control-thumbs":"control-paging",i=1;if(g.controlNavScaffold=b('<ol class="'+d+"control-nav "+d+a+'"></ol>'),1<g.pagingCount)for(var n=0;n<g.pagingCount;n++){if(t=g.slides.eq(n),e="thumbnails"===g.vars.controlNav?'<img src="'+t.attr("data-thumb")+'"/>':"<a>"+i+"</a>","thumbnails"===g.vars.controlNav&&!0===g.vars.thumbCaptions){var r=t.attr("data-thumbcaption");""!=r&&null!=r&&(e+='<span class="'+d+'caption">'+r+"</span>")}g.controlNavScaffold.append("<li>"+e+"</li>"),i++}g.controlsContainer?b(g.controlsContainer).append(g.controlNavScaffold):g.append(g.controlNavScaffold),x.controlNav.set(),x.controlNav.active(),g.controlNavScaffold.delegate("a, img",o,function(e){if(e.preventDefault(),""===s||s===e.type){var t=b(this),a=g.controlNav.index(t);t.hasClass(d+"active")||(g.direction=a>g.currentSlide?"next":"prev",g.flexAnimate(a,g.vars.pauseOnAction))}""===s&&(s=e.type),x.setToClearWatchedEvent()})},setupManual:function(){g.controlNav=g.manualControls,x.controlNav.active(),g.controlNav.bind(o,function(e){if(e.preventDefault(),""===s||s===e.type){var t=b(this),a=g.controlNav.index(t);t.hasClass(d+"active")||(a>g.currentSlide?g.direction="next":g.direction="prev",g.flexAnimate(a,g.vars.pauseOnAction))}""===s&&(s=e.type),x.setToClearWatchedEvent()})},set:function(){var e="thumbnails"===g.vars.controlNav?"img":"a";g.controlNav=b("."+d+"control-nav li "+e,g.controlsContainer?g.controlsContainer:g)},active:function(){g.controlNav.removeClass(d+"active").eq(g.animatingTo).addClass(d+"active")},update:function(e,t){1<g.pagingCount&&"add"===e?g.controlNavScaffold.append(b("<li><a>"+g.count+"</a></li>")):1===g.pagingCount?g.controlNavScaffold.find("li").remove():g.controlNav.eq(t).closest("li").remove(),x.controlNav.set(),1<g.pagingCount&&g.pagingCount!==g.controlNav.length?g.update(t,e):x.controlNav.active()}},directionNav:{setup:function(){var e=b('<ul class="'+d+'direction-nav"><li><a class="'+d+'prev" href="#">'+g.vars.prevText+'</a></li><li><a class="'+d+'next" href="#">'+g.vars.nextText+"</a></li></ul>");g.controlsContainer?(b(g.controlsContainer).append(e),g.directionNav=b("."+d+"direction-nav li a",g.controlsContainer)):(g.append(e),g.directionNav=b("."+d+"direction-nav li a",g)),x.directionNav.update(),g.directionNav.bind(o,function(e){var t;e.preventDefault(),""!==s&&s!==e.type||(t=b(this).hasClass(d+"next")?g.getTarget("next"):g.getTarget("prev"),g.flexAnimate(t,g.vars.pauseOnAction)),""===s&&(s=e.type),x.setToClearWatchedEvent()})},update:function(){var e=d+"disabled";1===g.pagingCount?g.directionNav.addClass(e).attr("tabindex","-1"):g.vars.animationLoop?g.directionNav.removeClass(e).removeAttr("tabindex"):0===g.animatingTo?g.directionNav.removeClass(e).filter("."+d+"prev").addClass(e).attr("tabindex","-1"):g.animatingTo===g.last?g.directionNav.removeClass(e).filter("."+d+"next").addClass(e).attr("tabindex","-1"):g.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var e=b('<div class="'+d+'pauseplay"><a></a></div>');g.controlsContainer?(g.controlsContainer.append(e),g.pausePlay=b("."+d+"pauseplay a",g.controlsContainer)):(g.append(e),g.pausePlay=b("."+d+"pauseplay a",g)),x.pausePlay.update(g.vars.slideshow?d+"pause":d+"play"),g.pausePlay.bind(o,function(e){e.preventDefault(),""!==s&&s!==e.type||(b(this).hasClass(d+"pause")?(g.manualPause=!0,g.manualPlay=!1,g.pause()):(g.manualPause=!1,g.manualPlay=!0,g.play())),""===s&&(s=e.type),x.setToClearWatchedEvent()})},update:function(e){"play"===e?g.pausePlay.removeClass(d+"pause").addClass(d+"play").html(g.vars.playText):g.pausePlay.removeClass(d+"play").addClass(d+"pause").html(g.vars.pauseText)}},touch:function(){var n,r,o,s,l,c,d=!1,t=0,a=0,u=0;if(h){f.style.msTouchAction="none",f._gesture=new MSGesture,(f._gesture.target=f).addEventListener("MSPointerDown",function(e){e.stopPropagation(),g.animating?e.preventDefault():(g.pause(),f._gesture.addPointer(e.pointerId),u=0,s=m?g.h:g.w,c=Number(new Date),o=_&&v&&g.animatingTo===g.last?0:_&&v?g.limit-(g.itemW+g.vars.itemMargin)*g.move*g.animatingTo:_&&g.currentSlide===g.last?g.limit:_?(g.itemW+g.vars.itemMargin)*g.move*g.currentSlide:v?(g.last-g.currentSlide+g.cloneOffset)*s:(g.currentSlide+g.cloneOffset)*s)},!1),f._slider=g,f.addEventListener("MSGestureChange",function(e){e.stopPropagation();var t=e.target._slider;if(!t)return;var a=-e.translationX,i=-e.translationY;if(l=u+=m?i:a,d=m?Math.abs(u)<Math.abs(-a):Math.abs(u)<Math.abs(-i),e.detail===e.MSGESTURE_FLAG_INERTIA)return void setImmediate(function(){f._gesture.stop()});(!d||500<Number(new Date)-c)&&(e.preventDefault(),!y&&t.transitions&&(t.vars.animationLoop||(l=u/(0===t.currentSlide&&u<0||t.currentSlide===t.last&&0<u?Math.abs(u)/s+2:1)),t.setProps(o+l,"setTouch")))},!1),f.addEventListener("MSGestureEnd",function(e){e.stopPropagation();var t=e.target._slider;if(!t)return;if(t.animatingTo===t.currentSlide&&!d&&null!==l){var a=v?-l:l,i=0<a?t.getTarget("next"):t.getTarget("prev");t.canAdvance(i)&&(Number(new Date)-c<550&&50<Math.abs(a)||Math.abs(a)>s/2)?t.flexAnimate(i,t.vars.pauseOnAction):y||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}o=l=r=n=null,u=0},!1)}else{function i(e){t=e.touches[0].pageX,a=e.touches[0].pageY,l=m?n-a:n-t;(!(d=m?Math.abs(l)<Math.abs(t-r):Math.abs(l)<Math.abs(a-r))||500<Number(new Date)-c)&&(e.preventDefault(),!y&&g.transitions&&(g.vars.animationLoop||(l/=0===g.currentSlide&&l<0||g.currentSlide===g.last&&0<l?Math.abs(l)/s+2:1),g.setProps(o+l,"setTouch")))}function p(e){if(f.removeEventListener("touchmove",i,!1),g.animatingTo===g.currentSlide&&!d&&null!==l){var t=v?-l:l,a=0<t?g.getTarget("next"):g.getTarget("prev");g.canAdvance(a)&&(Number(new Date)-c<550&&50<Math.abs(t)||Math.abs(t)>s/2)?g.flexAnimate(a,g.vars.pauseOnAction):y||g.flexAnimate(g.currentSlide,g.vars.pauseOnAction,!0)}f.removeEventListener("touchend",p,!1),o=l=r=n=null}f.addEventListener("touchstart",function(e){g.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(g.pause(),s=m?g.h:g.w,c=Number(new Date),t=e.touches[0].pageX,a=e.touches[0].pageY,o=_&&v&&g.animatingTo===g.last?0:_&&v?g.limit-(g.itemW+g.vars.itemMargin)*g.move*g.animatingTo:_&&g.currentSlide===g.last?g.limit:_?(g.itemW+g.vars.itemMargin)*g.move*g.currentSlide:v?(g.last-g.currentSlide+g.cloneOffset)*s:(g.currentSlide+g.cloneOffset)*s,n=m?a:t,r=m?t:a,f.addEventListener("touchmove",i,!1),f.addEventListener("touchend",p,!1))},!1)}},resize:function(){!g.animating&&g.is(":visible")&&(_||g.doMath(),y?x.smoothHeight():_?(g.slides.width(g.computedW),g.update(g.pagingCount),g.setProps()):m?(g.viewport.height(g.h),g.setProps(g.h,"setTotal")):(g.vars.smoothHeight&&x.smoothHeight(),g.newSlides.width(g.computedW),g.setProps(g.computedW,"setTotal")))},smoothHeight:function(e){if(!m||y){var t=y?g:g.viewport;e?t.animate({height:g.slides.eq(g.animatingTo).height()},e):t.height(g.slides.eq(g.animatingTo).height())}},sync:function(e){var t=b(g.vars.sync).data("flexslider"),a=g.animatingTo;switch(e){case"animate":t.flexAnimate(a,g.vars.pauseOnAction,!1,!0);break;case"play":t.playing||t.asNav||t.play();break;case"pause":t.pause()}},pauseInvisible:{visProp:null,init:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)e[t]+"Hidden"in document&&(x.pauseInvisible.visProp=e[t]+"Hidden");if(x.pauseInvisible.visProp){var a=x.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(a,function(){x.pauseInvisible.isHidden()?g.startTimeout?clearTimeout(g.startTimeout):g.pause():g.started?g.play():0<g.vars.initDelay?setTimeout(g.play,g.vars.initDelay):g.play()})}},isHidden:function(){return document[x.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(t),t=setTimeout(function(){s=""},3e3)}},g.flexAnimate=function(e,t,a,i,n){if(g.vars.animationLoop||e===g.currentSlide||(g.direction=e>g.currentSlide?"next":"prev"),p&&1===g.pagingCount&&(g.direction=g.currentItem<e?"next":"prev"),!g.animating&&(g.canAdvance(e,n)||a)&&g.is(":visible")){if(p&&i){var r=b(g.vars.asNavFor).data("flexslider");if(g.atEnd=0===e||e===g.count-1,r.flexAnimate(e,!0,!1,!0,n),g.direction=g.currentItem<e?"next":"prev",r.direction=g.direction,Math.ceil((e+1)/g.visible)-1===g.currentSlide||0===e)return g.currentItem=e,g.slides.removeClass(d+"active-slide").eq(e).addClass(d+"active-slide"),!1;g.currentItem=e,g.slides.removeClass(d+"active-slide").eq(e).addClass(d+"active-slide"),e=Math.floor(e/g.visible)}if(g.animating=!0,g.animatingTo=e,t&&g.pause(),g.vars.before(g),g.syncExists&&!n&&x.sync("animate"),g.vars.controlNav&&x.controlNav.active(),_||g.slides.removeClass(d+"active-slide").eq(e).addClass(d+"active-slide"),g.atEnd=0===e||e===g.last,g.vars.directionNav&&x.directionNav.update(),e===g.last&&(g.vars.end(g),g.vars.animationLoop||g.pause()),y)u?(g.slides.eq(g.currentSlide).css({opacity:0,zIndex:1}),g.slides.eq(e).css({opacity:1,zIndex:2}),g.wrapup(c)):(g.slides.eq(g.currentSlide).css({zIndex:1}).animate({opacity:0},g.vars.animationSpeed,g.vars.easing),g.slides.eq(e).css({zIndex:2}).animate({opacity:1},g.vars.animationSpeed,g.vars.easing,g.wrapup));else{var o,s,l,c=m?g.slides.filter(":first").height():g.computedW;_?(o=g.vars.itemMargin,s=(l=(g.itemW+o)*g.move*g.animatingTo)>g.limit&&1!==g.visible?g.limit:l):s=0===g.currentSlide&&e===g.count-1&&g.vars.animationLoop&&"next"!==g.direction?v?(g.count+g.cloneOffset)*c:0:g.currentSlide===g.last&&0===e&&g.vars.animationLoop&&"prev"!==g.direction?v?0:(g.count+1)*c:v?(g.count-1-e+g.cloneOffset)*c:(e+g.cloneOffset)*c,g.setProps(s,"",g.vars.animationSpeed),g.transitions?(g.vars.animationLoop&&g.atEnd||(g.animating=!1,g.currentSlide=g.animatingTo),g.container.unbind("webkitTransitionEnd transitionend"),g.container.bind("webkitTransitionEnd transitionend",function(){g.wrapup(c)})):g.container.animate(g.args,g.vars.animationSpeed,g.vars.easing,function(){g.wrapup(c)})}g.vars.smoothHeight&&x.smoothHeight(g.vars.animationSpeed)}},g.wrapup=function(e){y||_||(0===g.currentSlide&&g.animatingTo===g.last&&g.vars.animationLoop?g.setProps(e,"jumpEnd"):g.currentSlide===g.last&&0===g.animatingTo&&g.vars.animationLoop&&g.setProps(e,"jumpStart")),g.animating=!1,g.currentSlide=g.animatingTo,g.vars.after(g)},g.animateSlides=function(){g.animating||g.flexAnimate(g.getTarget("next"))},g.pause=function(){clearInterval(g.animatedSlides),g.animatedSlides=null,g.playing=!1,g.vars.pausePlay&&x.pausePlay.update("play"),g.syncExists&&x.sync("pause")},g.play=function(){g.playing&&clearInterval(g.animatedSlides),g.animatedSlides=g.animatedSlides||setInterval(g.animateSlides,g.vars.slideshowSpeed),g.started=g.playing=!0,g.vars.pausePlay&&x.pausePlay.update("pause"),g.syncExists&&x.sync("play")},g.stop=function(){g.pause(),g.stopped=!0},g.canAdvance=function(e,t){var a=p?g.pagingCount-1:g.last;return!!t||(!(!p||g.currentItem!==g.count-1||0!==e||"prev"!==g.direction)||(!p||0!==g.currentItem||e!==g.pagingCount-1||"next"===g.direction)&&(!(e===g.currentSlide&&!p)&&(!!g.vars.animationLoop||(!g.atEnd||0!==g.currentSlide||e!==a||"next"===g.direction)&&(!g.atEnd||g.currentSlide!==a||0!==e||"next"!==g.direction))))},g.getTarget=function(e){return"next"===(g.direction=e)?g.currentSlide===g.last?0:g.currentSlide+1:0===g.currentSlide?g.last:g.currentSlide-1},g.setProps=function(e,t,a){var i,n=(i=e||(g.itemW+g.vars.itemMargin)*g.move*g.animatingTo,-1*function(){if(_)return"setTouch"===t?e:v&&g.animatingTo===g.last?0:v?g.limit-(g.itemW+g.vars.itemMargin)*g.move*g.animatingTo:g.animatingTo===g.last?g.limit:i;switch(t){case"setTotal":return v?(g.count-1-g.currentSlide+g.cloneOffset)*e:(g.currentSlide+g.cloneOffset)*e;case"setTouch":return e;case"jumpEnd":return v?e:g.count*e;case"jumpStart":return v?g.count*e:e;default:return e}}()+"px");g.transitions&&(n=m?"translate3d(0,"+n+",0)":"translate3d("+n+",0,0)",a=void 0!==a?a/1e3+"s":"0s",g.container.css("-"+g.pfx+"-transition-duration",a)),g.args[g.prop]=n,(g.transitions||void 0===a)&&g.container.css(g.args)},g.setup=function(e){var t,a;y?(g.slides.css({width:"100%",float:"left",marginRight:"-100%",position:"relative"}),"init"===e&&(u?g.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+g.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(g.currentSlide).css({opacity:1,zIndex:2}):g.slides.css({opacity:0,display:"block",zIndex:1}).eq(g.currentSlide).css({zIndex:2}).animate({opacity:1},g.vars.animationSpeed,g.vars.easing)),g.vars.smoothHeight&&x.smoothHeight()):("init"===e&&(g.viewport=b('<div class="'+d+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(g).append(g.container),g.cloneCount=0,g.cloneOffset=0,v&&(a=b.makeArray(g.slides).reverse(),g.slides=b(a),g.container.empty().append(g.slides))),g.vars.animationLoop&&!_&&(g.cloneCount=2,g.cloneOffset=1,"init"!==e&&g.container.find(".clone").remove(),g.container.append(g.slides.first().clone().addClass("clone").attr("aria-hidden","true")).prepend(g.slides.last().clone().addClass("clone").attr("aria-hidden","true"))),g.newSlides=b(g.vars.selector,g),t=v?g.count-1-g.currentSlide+g.cloneOffset:g.currentSlide+g.cloneOffset,m&&!_?(g.container.height(200*(g.count+g.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){g.newSlides.css({display:"block"}),g.doMath(),g.viewport.height(g.h),g.setProps(t*g.h,"init")},"init"===e?100:0)):(g.container.width(200*(g.count+g.cloneCount)+"%"),g.setProps(t*g.computedW,"init"),setTimeout(function(){g.doMath(),g.newSlides.css({width:g.computedW,float:"left",display:"block"}),g.vars.smoothHeight&&x.smoothHeight()},"init"===e?100:0)));_||g.slides.removeClass(d+"active-slide").eq(g.currentSlide).addClass(d+"active-slide")},g.doMath=function(){var e=g.slides.first(),t=g.vars.itemMargin,a=g.vars.minItems,i=g.vars.maxItems;g.w=void 0===g.viewport?g.width():g.viewport.width(),g.h=e.height(),g.boxPadding=e.outerWidth()-e.width(),_?(g.itemT=g.vars.itemWidth+t,g.minW=a?a*g.itemT:g.w,g.maxW=i?i*g.itemT-t:g.w,g.itemW=g.minW>g.w?(g.w-t*(a-1))/a:g.maxW<g.w?(g.w-t*(i-1))/i:g.vars.itemWidth>g.w?g.w:g.vars.itemWidth,g.visible=Math.floor(g.w/g.itemW),g.move=0<g.vars.move&&g.vars.move<g.visible?g.vars.move:g.visible,g.pagingCount=Math.ceil((g.count-g.visible)/g.move+1),g.last=g.pagingCount-1,g.limit=1===g.pagingCount?0:g.vars.itemWidth>g.w?g.itemW*(g.count-1)+t*(g.count-1):(g.itemW+t)*g.count-g.w-t):(g.itemW=g.w,g.pagingCount=g.count,g.last=g.count-1),g.computedW=g.itemW-g.boxPadding},g.update=function(e,t){g.doMath(),_||(e<g.currentSlide?g.currentSlide+=1:e<=g.currentSlide&&0!==e&&(g.currentSlide-=1),g.animatingTo=g.currentSlide),g.vars.controlNav&&!g.manualControls&&("add"===t&&!_||g.pagingCount>g.controlNav.length?x.controlNav.update("add"):("remove"===t&&!_||g.pagingCount<g.controlNav.length)&&(_&&g.currentSlide>g.last&&(g.currentSlide-=1,g.animatingTo-=1),x.controlNav.update("remove",g.last))),g.vars.directionNav&&x.directionNav.update()},g.addSlide=function(e,t){var a=b(e);g.count+=1,g.last=g.count-1,m&&v?void 0!==t?g.slides.eq(g.count-t).after(a):g.container.prepend(a):void 0!==t?g.slides.eq(t).before(a):g.container.append(a),g.update(t,"add"),g.slides=b(g.vars.selector+":not(.clone)",g),g.setup(),g.vars.added(g)},g.removeSlide=function(e){var t=isNaN(e)?g.slides.index(b(e)):e;g.count-=1,g.last=g.count-1,isNaN(e)?b(e,g.slides).remove():m&&v?g.slides.eq(g.last).remove():g.slides.eq(e).remove(),g.doMath(),g.update(t,"remove"),g.slides=b(g.vars.selector+":not(.clone)",g),g.setup(),g.vars.removed(g)},x.init()},b(window).blur(function(e){focused=!1}).focus(function(e){focused=!0}),b.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}},b.fn.flexslider=function(i){if(void 0===i&&(i={}),"object"==typeof i)return this.each(function(){var e=b(this),t=i.selector?i.selector:".slides > li",a=e.find(t);1===a.length&&!0===i.allowOneSlide||0===a.length?(a.fadeIn(400),i.start&&i.start(e)):void 0===e.data("flexslider")&&new b.flexslider(this,i)});var e=b(this).data("flexslider");switch(i){case"play":e.play();break;case"pause":e.pause();break;case"stop":e.stop();break;case"next":e.flexAnimate(e.getTarget("next"),!0);break;case"prev":case"previous":e.flexAnimate(e.getTarget("prev"),!0);break;default:"number"==typeof i&&e.flexAnimate(i,!0)}}}(jQuery),function(d,u){d.MixItUp=function(){this._execAction("_constructor",0),d.extend(this,{selectors:{target:".mix",filter:".filter",sort:".sort"},animation:{enable:!0,effects:"fade scale",duration:600,easing:"ease",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",queue:!0,queueLimit:1,animateChangeLayout:!1,animateResizeContainer:!0,animateResizeTargets:!1,staggerSequence:!1,reverseOut:!1},callbacks:{onMixLoad:!1,onMixStart:!1,onMixBusy:!1,onMixEnd:!1,onMixFail:!1,_user:!1},controls:{enable:!0,live:!1,toggleFilterButtons:!1,toggleLogic:"or",activeClass:"active"},layout:{display:"inline-block",containerClass:"",containerClassFail:"fail"},load:{filter:"all",sort:!1},_$body:null,_$container:null,_$targets:null,_$parent:null,_$sortButtons:null,_$filterButtons:null,_suckMode:!1,_mixing:!1,_sorting:!1,_clicking:!1,_loading:!0,_changingLayout:!1,_changingClass:!1,_changingDisplay:!1,_origOrder:[],_startOrder:[],_newOrder:[],_activeFilter:null,_toggleArray:[],_toggleString:"",_activeSort:"default:asc",_newSort:null,_startHeight:null,_newHeight:null,_incPadding:!0,_newDisplay:null,_newClass:null,_targetsBound:0,_targetsDone:0,_queue:[],_$show:d(),_$hide:d()}),this._execAction("_constructor",1)},d.MixItUp.prototype={constructor:d.MixItUp,_instances:{},_handled:{_filter:{},_sort:{}},_bound:{_filter:{},_sort:{}},_actions:{},_filters:{},extend:function(e){for(var t in e)d.MixItUp.prototype[t]=e[t]},addAction:function(e,t,a,i){d.MixItUp.prototype._addHook("_actions",e,t,a,i)},addFilter:function(e,t,a,i){d.MixItUp.prototype._addHook("_filters",e,t,a,i)},_addHook:function(e,t,a,i,n){var r=d.MixItUp.prototype[e],o={};n=1===n||"post"===n?"post":"pre",o[t]={},o[t][n]={},o[t][n][a]=i,d.extend(!0,r,o)},_init:function(e,t){var a=this;if(a._execAction("_init",0,arguments),t&&d.extend(!0,a,t),a._$body=d("body"),a._domNode=e,a._$container=d(e),a._$container.addClass(a.layout.containerClass),a._id=e.id,a._platformDetect(),a._brake=a._getPrefixedCSS("transition","none"),a._refresh(!0),a._$parent=a._$targets.parent().length?a._$targets.parent():a._$container,a.load.sort&&(a._newSort=a._parseSort(a.load.sort),a._newSortString=a.load.sort,a._activeSort=a.load.sort,a._sort(),a._printSort()),a._activeFilter="all"===a.load.filter?a.selectors.target:"none"===a.load.filter?"":a.load.filter,a.controls.enable&&a._bindHandlers(),a.controls.toggleFilterButtons){a._buildToggleArray();for(var i=0;i<a._toggleArray.length;i++)a._updateControls({filter:a._toggleArray[i],sort:a._activeSort},!0)}else a.controls.enable&&a._updateControls({filter:a._activeFilter,sort:a._activeSort});a._filter(),a._init=!0,a._$container.data("mixItUp",a),a._execAction("_init",1,arguments),a._buildState(),a._$targets.css(a._brake),a._goMix(a.animation.enable)},_platformDetect:function(){var e=this,a=["Webkit","Moz","O","ms"],t=["webkit","moz"],i=window.navigator.appVersion.match(/Chrome\/(\d+)\./)||!1,n="undefined"!=typeof InstallTrigger,r=function(e){for(var t=0;t<a.length;t++)if(a[t]+"Transition"in e.style)return{prefix:"-"+a[t].toLowerCase()+"-",vendor:a[t]};return"transition"in e.style&&""}(e._domNode);e._execAction("_platformDetect",0),e._chrome=!!i&&parseInt(i[1],10),e._ff=!!n&&parseInt(window.navigator.userAgent.match(/rv:([^)]+)\)/)[1]),e._prefix=r.prefix,e._vendor=r.vendor,e._suckMode=!window.atob||!e._prefix,e._suckMode&&(e.animation.enable=!1),e._ff&&e._ff<=4&&(e.animation.enable=!1);for(var o=0;o<t.length&&!window.requestAnimationFrame;o++)window.requestAnimationFrame=window[t[o]+"RequestAnimationFrame"];"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype}),e._domNode.nextElementSibling===u&&Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){for(var e=this.nextSibling;e;){if(1===e.nodeType)return e;e=e.nextSibling}return null}}),e._execAction("_platformDetect",1)},_refresh:function(e,t){var a=this;a._execAction("_refresh",0,arguments),a._$targets=a._$container.find(a.selectors.target);for(var i=0;i<a._$targets.length;i++){if((c=a._$targets[i]).dataset===u||t){c.dataset={};for(var n=0;n<c.attributes.length;n++){var r=c.attributes[n],o=r.name,s=r.nodeValue;if(-1<o.indexOf("data-")){var l=a._helpers._camelCase(o.substring(5,o.length));c.dataset[l]=s}}}c.mixParent===u&&(c.mixParent=a._id)}if(a._$targets.length&&e||!a._origOrder.length&&a._$targets.length){a._origOrder=[];for(i=0;i<a._$targets.length;i++){var c=a._$targets[i];a._origOrder.push(c)}}a._execAction("_refresh",1,arguments)},_bindHandlers:function(){var e=this,t=d.MixItUp.prototype._bound._filter,a=d.MixItUp.prototype._bound._sort;e._execAction("_bindHandlers",0),e.controls.live?e._$body.on("click.mixItUp."+e._id,e.selectors.sort,function(){e._processClick(d(this),"sort")}).on("click.mixItUp."+e._id,e.selectors.filter,function(){e._processClick(d(this),"filter")}):(e._$sortButtons=d(e.selectors.sort),e._$filterButtons=d(e.selectors.filter),e._$sortButtons.on("click.mixItUp."+e._id,function(){e._processClick(d(this),"sort")}),e._$filterButtons.on("click.mixItUp."+e._id,function(){e._processClick(d(this),"filter")})),t[e.selectors.filter]=t[e.selectors.filter]===u?1:t[e.selectors.filter]+1,a[e.selectors.sort]=a[e.selectors.sort]===u?1:a[e.selectors.sort]+1,e._execAction("_bindHandlers",1)},_processClick:function(e,t){var n=this,a=function(e,t,a){var i=d.MixItUp.prototype;i._handled["_"+t][n.selectors[t]]=i._handled["_"+t][n.selectors[t]]===u?1:i._handled["_"+t][n.selectors[t]]+1,i._handled["_"+t][n.selectors[t]]===i._bound["_"+t][n.selectors[t]]&&(e[(a?"remove":"add")+"Class"](n.controls.activeClass),delete i._handled["_"+t][n.selectors[t]])};if(n._execAction("_processClick",0,arguments),!n._mixing||n.animation.queue&&n._queue.length<n.animation.queueLimit){if(n._clicking=!0,"sort"===t){var i=e.attr("data-sort");(!e.hasClass(n.controls.activeClass)||-1<i.indexOf("random"))&&(d(n.selectors.sort).removeClass(n.controls.activeClass),a(e,t),n.sort(i))}if("filter"===t){var r,o=e.attr("data-filter"),s="or"===n.controls.toggleLogic?",":"";n.controls.toggleFilterButtons?(n._buildToggleArray(),e.hasClass(n.controls.activeClass)?(a(e,t,!0),r=n._toggleArray.indexOf(o),n._toggleArray.splice(r,1)):(a(e,t),n._toggleArray.push(o)),n._toggleArray=d.grep(n._toggleArray,function(e){return e}),n._toggleString=n._toggleArray.join(s),n.filter(n._toggleString)):e.hasClass(n.controls.activeClass)||(d(n.selectors.filter).removeClass(n.controls.activeClass),a(e,t),n.filter(o))}n._execAction("_processClick",1,arguments)}else"function"==typeof n.callbacks.onMixBusy&&n.callbacks.onMixBusy.call(n._domNode,n._state,n),n._execAction("_processClickBusy",1,arguments)},_buildToggleArray:function(){var e=this,t=e._activeFilter.replace(/\s/g,"");if(e._execAction("_buildToggleArray",0,arguments),"or"===e.controls.toggleLogic)e._toggleArray=t.split(",");else{e._toggleArray=t.split("."),!e._toggleArray[0]&&e._toggleArray.shift();for(var a,i=0;a=e._toggleArray[i];i++)e._toggleArray[i]="."+a}e._execAction("_buildToggleArray",1,arguments)},_updateControls:function(e,t){var a,i,n=this,r={filter:e.filter,sort:e.sort},o="filter",s=null;n._execAction("_updateControls",0,arguments),e.filter===u&&(r.filter=n._activeFilter),e.sort===u&&(r.sort=n._activeSort),r.filter===n.selectors.target&&(r.filter="all");for(var l=0;l<2;l++)(s=n.controls.live?d(n.selectors[o]):n["_$"+o+"Buttons"])&&(a=s,i="[data-"+o+'="'+r[o]+'"]',t&&"filter"==o&&"none"!==r.filter&&""!==r.filter?a.filter(i).addClass(n.controls.activeClass):a.removeClass(n.controls.activeClass).filter(i).addClass(n.controls.activeClass)),o="sort";n._execAction("_updateControls",1,arguments)},_filter:function(){var e=this;e._execAction("_filter",0);for(var t=0;t<e._$targets.length;t++){var a=d(e._$targets[t]);a.is(e._activeFilter)?e._$show=e._$show.add(a):e._$hide=e._$hide.add(a)}e._execAction("_filter",1)},_sort:function(){var a=this;a._execAction("_sort",0),a._startOrder=[];for(var e=0;e<a._$targets.length;e++){var t=a._$targets[e];a._startOrder.push(t)}switch(a._newSort[0].sortBy){case"default":a._newOrder=a._origOrder;break;case"random":a._newOrder=function(e){for(var t=e.slice(),a=t.length,i=a;i--;){var n=parseInt(Math.random()*a),r=t[i];t[i]=t[n],t[n]=r}return t}(a._startOrder);break;case"custom":a._newOrder=a._newSort[0].order;break;default:a._newOrder=a._startOrder.concat().sort(function(e,t){return a._compare(e,t)})}a._execAction("_sort",1)},_compare:function(e,t,a){a=a||0;var i=this,n=i._newSort[a].order,r=function(e){return e.dataset[i._newSort[a].sortBy]||0},o=isNaN(1*r(e))?r(e).toLowerCase():1*r(e),s=isNaN(1*r(t))?r(t).toLowerCase():1*r(t);return o<s?"asc"==n?-1:1:s<o?"asc"==n?1:-1:o==s&&i._newSort.length>a+1?i._compare(e,t,a+1):0},_printSort:function(e){var t=this,a=e?t._startOrder:t._newOrder,i=t._$parent[0].querySelectorAll(t.selectors.target),n=i[i.length-1].nextElementSibling,r=document.createDocumentFragment();t._execAction("_printSort",0,arguments);for(var o=0;o<i.length;o++){var s=i[o],l=s.nextSibling;"absolute"!==s.style.position&&(l&&"#text"==l.nodeName&&t._$parent[0].removeChild(l),t._$parent[0].removeChild(s))}for(o=0;o<a.length;o++){var c=a[o];if("default"!=t._newSort[0].sortBy||"desc"!=t._newSort[0].order||e)r.appendChild(c),r.appendChild(document.createTextNode(" "));else{var d=r.firstChild;r.insertBefore(c,d),r.insertBefore(document.createTextNode(" "),c)}}n?t._$parent[0].insertBefore(r,n):t._$parent[0].appendChild(r),t._execAction("_printSort",1,arguments)},_parseSort:function(e){for(var t="string"==typeof e?e.split(" "):[e],a=[],i=0;i<t.length;i++){var n="string"==typeof e?t[i].split(":"):["custom",t[i]],r={sortBy:this._helpers._camelCase(n[0]),order:n[1]||"asc"};if(a.push(r),"default"==r.sortBy||"random"==r.sortBy)break}return this._execFilter("_parseSort",a,arguments)},_parseEffects:function(){var r=this,l={opacity:"",transformIn:"",transformOut:"",filter:""},c=function(e,t,a){if(-1<r.animation.effects.indexOf(e)){if(t){var i=r.animation.effects.indexOf(e+"(");if(-1<i){var n=r.animation.effects.substring(i);return{val:/\(([^)]+)\)/.exec(n)[1]}}}return!0}return!1},e=function(e,t){for(var a,i=[["scale",".01"],["translateX","20px"],["translateY","20px"],["translateZ","20px"],["rotateX","90deg"],["rotateY","90deg"],["rotateZ","180deg"]],n=0;n<i.length;n++){var r=i[n][0],o=i[n][1],s=t&&"scale"!==r;l[e]+=c(r)?r+"("+(a=c(r,!0).val||o,s?"-"===a.charAt(0)?a.substr(1,a.length):"-"+a:a)+") ":""}};return l.opacity=c("fade")?c("fade",!0).val||"0":"",e("transformIn"),r.animation.reverseOut?e("transformOut",!0):l.transformOut=l.transformIn,l.transition={},l.transition=r._getPrefixedCSS("transition","all "+r.animation.duration+"ms "+r.animation.easing+", opacity "+r.animation.duration+"ms linear"),r.animation.stagger=!!c("stagger"),r.animation.staggerDuration=parseInt(c("stagger")&&c("stagger",!0).val?c("stagger",!0).val:100),r._execFilter("_parseEffects",l)},_buildState:function(e){var t,a=this;if(a._execAction("_buildState",0),t={activeFilter:""===a._activeFilter?"none":a._activeFilter,activeSort:e&&a._newSortString?a._newSortString:a._activeSort,fail:!a._$show.length&&""!==a._activeFilter,$targets:a._$targets,$show:a._$show,$hide:a._$hide,totalTargets:a._$targets.length,totalShow:a._$show.length,totalHide:a._$hide.length,display:e&&a._newDisplay?a._newDisplay:a.layout.display},e)return a._execFilter("_buildState",t);a._state=t,a._execAction("_buildState",1)},_goMix:function(e){var a=this,t=function(){a._chrome&&31===a._chrome&&r(a._$parent[0]),a._setInter(),i()},i=function(){var e=window.pageYOffset,t=window.pageXOffset;document.documentElement.scrollHeight;a._getInterMixData(),a._setFinal(),a._getFinalMixData(),window.pageYOffset!==e&&window.scrollTo(t,e),a._prepTargets(),window.requestAnimationFrame?requestAnimationFrame(n):setTimeout(function(){n()},20)},n=function(){a._animateTargets(),0===a._targetsBound&&a._cleanUp()},r=function(e){var t=e.parentElement,a=document.createElement("div"),i=document.createDocumentFragment();t.insertBefore(a,e),i.appendChild(e),t.replaceChild(e,a)},o=a._buildState(!0);a._execAction("_goMix",0,arguments),!a.animation.duration&&(e=!1),a._mixing=!0,a._$container.removeClass(a.layout.containerClassFail),"function"==typeof a.callbacks.onMixStart&&a.callbacks.onMixStart.call(a._domNode,a._state,o,a),a._$container.trigger("mixStart",[a._state,o,a]),a._getOrigMixData(),e&&!a._suckMode?window.requestAnimationFrame?requestAnimationFrame(t):t():a._cleanUp(),a._execAction("_goMix",1,arguments)},_getTargetData:function(e,t){var a;e.dataset[t+"PosX"]=e.offsetLeft,e.dataset[t+"PosY"]=e.offsetTop,this.animation.animateResizeTargets&&(a=window.getComputedStyle(e),e.dataset[t+"MarginBottom"]=parseInt(a.marginBottom),e.dataset[t+"MarginRight"]=parseInt(a.marginRight),e.dataset[t+"Width"]=e.offsetWidth,e.dataset[t+"Height"]=e.offsetHeight)},_getOrigMixData:function(){var e=this,t=e._suckMode?{boxSizing:""}:window.getComputedStyle(e._$parent[0]),a=t.boxSizing||t[e._vendor+"BoxSizing"];e._incPadding="border-box"===a,e._execAction("_getOrigMixData",0),!e._suckMode&&(e.effects=e._parseEffects()),e._$toHide=e._$hide.filter(":visible"),e._$toShow=e._$show.filter(":hidden"),e._$pre=e._$targets.filter(":visible"),e._startHeight=e._incPadding?e._$parent.outerHeight():e._$parent.height();for(var i=0;i<e._$pre.length;i++){var n=e._$pre[i];e._getTargetData(n,"orig")}e._execAction("_getOrigMixData",1)},_setInter:function(){var e=this;e._execAction("_setInter",0),e._changingLayout&&e.animation.animateChangeLayout?(e._$toShow.css("display",e._newDisplay),e._changingClass&&e._$container.removeClass(e.layout.containerClass).addClass(e._newClass)):e._$toShow.css("display",e.layout.display),e._execAction("_setInter",1)},_getInterMixData:function(){var e=this;e._execAction("_getInterMixData",0);for(var t=0;t<e._$toShow.length;t++){var a=e._$toShow[t];e._getTargetData(a,"inter")}for(t=0;t<e._$pre.length;t++){a=e._$pre[t];e._getTargetData(a,"inter")}e._execAction("_getInterMixData",1)},_setFinal:function(){var e=this;e._execAction("_setFinal",0),e._sorting&&e._printSort(),e._$toHide.removeStyle("display"),e._changingLayout&&e.animation.animateChangeLayout&&e._$pre.css("display",e._newDisplay),e._execAction("_setFinal",1)},_getFinalMixData:function(){var e=this;e._execAction("_getFinalMixData",0);for(var t=0;t<e._$toShow.length;t++){var a=e._$toShow[t];e._getTargetData(a,"final")}for(t=0;t<e._$pre.length;t++){a=e._$pre[t];e._getTargetData(a,"final")}e._newHeight=e._incPadding?e._$parent.outerHeight():e._$parent.height(),e._sorting&&e._printSort(!0),e._$toShow.removeStyle("display"),e._$pre.css("display",e.layout.display),e._changingClass&&e.animation.animateChangeLayout&&e._$container.removeClass(e._newClass).addClass(e.layout.containerClass),e._execAction("_getFinalMixData",1)},_prepTargets:function(){var e=this,t={_in:e._getPrefixedCSS("transform",e.effects.transformIn),_out:e._getPrefixedCSS("transform",e.effects.transformOut)};e._execAction("_prepTargets",0),e.animation.animateResizeContainer&&e._$parent.css("height",e._startHeight+"px");for(var a=0;a<e._$toShow.length;a++){var i=e._$toShow[a],n=d(i);i.style.opacity=e.effects.opacity,i.style.display=e._changingLayout&&e.animation.animateChangeLayout?e._newDisplay:e.layout.display,n.css(t._in),e.animation.animateResizeTargets&&(i.style.width=i.dataset.finalWidth+"px",i.style.height=i.dataset.finalHeight+"px",i.style.marginRight=-(i.dataset.finalWidth-i.dataset.interWidth)+1*i.dataset.finalMarginRight+"px",i.style.marginBottom=-(i.dataset.finalHeight-i.dataset.interHeight)+1*i.dataset.finalMarginBottom+"px")}for(a=0;a<e._$pre.length;a++){i=e._$pre[a],n=d(i);var r=i.dataset.origPosX-i.dataset.interPosX,o=i.dataset.origPosY-i.dataset.interPosY;t=e._getPrefixedCSS("transform","translate("+r+"px,"+o+"px)");n.css(t),e.animation.animateResizeTargets&&(i.style.width=i.dataset.origWidth+"px",i.style.height=i.dataset.origHeight+"px",i.dataset.origWidth-i.dataset.finalWidth&&(i.style.marginRight=-(i.dataset.origWidth-i.dataset.interWidth)+1*i.dataset.origMarginRight+"px"),i.dataset.origHeight-i.dataset.finalHeight&&(i.style.marginBottom=-(i.dataset.origHeight-i.dataset.interHeight)+1*i.dataset.origMarginBottom+"px"))}e._execAction("_prepTargets",1)},_animateTargets:function(){var e=this;e._execAction("_animateTargets",0),e._targetsDone=0,e._targetsBound=0,e._$parent.css(e._getPrefixedCSS("perspective",e.animation.perspectiveDistance+"px")).css(e._getPrefixedCSS("perspective-origin",e.animation.perspectiveOrigin)),e.animation.animateResizeContainer&&e._$parent.css(e._getPrefixedCSS("transition","height "+e.animation.duration+"ms ease")).css("height",e._newHeight+"px");for(var t=0;t<e._$toShow.length;t++){var a=e._$toShow[t],i=d(a),n={x:a.dataset.finalPosX-a.dataset.interPosX,y:a.dataset.finalPosY-a.dataset.interPosY},r=e._getDelay(t),o={};a.style.opacity="";for(var s=0;s<2;s++){var l=0===s?l=e._prefix:"";e._ff&&e._ff<=20&&(o[l+"transition-property"]="all",o[l+"transition-timing-function"]=e.animation.easing+"ms",o[l+"transition-duration"]=e.animation.duration+"ms"),o[l+"transition-delay"]=r+"ms",o[l+"transform"]="translate("+n.x+"px,"+n.y+"px)"}(e.effects.transform||e.effects.opacity)&&e._bindTargetDone(i),e._ff&&e._ff<=20?i.css(o):i.css(e.effects.transition).css(o)}for(t=0;t<e._$pre.length;t++){a=e._$pre[t],i=d(a),n={x:a.dataset.finalPosX-a.dataset.interPosX,y:a.dataset.finalPosY-a.dataset.interPosY},r=e._getDelay(t);a.dataset.finalPosX===a.dataset.origPosX&&a.dataset.finalPosY===a.dataset.origPosY||e._bindTargetDone(i),i.css(e._getPrefixedCSS("transition","all "+e.animation.duration+"ms "+e.animation.easing+" "+r+"ms")),i.css(e._getPrefixedCSS("transform","translate("+n.x+"px,"+n.y+"px)")),e.animation.animateResizeTargets&&(a.dataset.origWidth-a.dataset.finalWidth&&1*a.dataset.finalWidth&&(a.style.width=a.dataset.finalWidth+"px",a.style.marginRight=-(a.dataset.finalWidth-a.dataset.interWidth)+1*a.dataset.finalMarginRight+"px"),a.dataset.origHeight-a.dataset.finalHeight&&1*a.dataset.finalHeight&&(a.style.height=a.dataset.finalHeight+"px",a.style.marginBottom=-(a.dataset.finalHeight-a.dataset.interHeight)+1*a.dataset.finalMarginBottom+"px"))}e._changingClass&&e._$container.removeClass(e.layout.containerClass).addClass(e._newClass);for(t=0;t<e._$toHide.length;t++){a=e._$toHide[t],i=d(a),r=e._getDelay(t);var c={};for(s=0;s<2;s++){c[(l=0===s?l=e._prefix:"")+"transition-delay"]=r+"ms",c[l+"transform"]=e.effects.transformOut,c.opacity=e.effects.opacity}i.css(e.effects.transition).css(c),(e.effects.transform||e.effects.opacity)&&e._bindTargetDone(i)}e._execAction("_animateTargets",1)},_bindTargetDone:function(t){var a=this,i=t[0];a._execAction("_bindTargetDone",0,arguments),i.dataset.bound||(i.dataset.bound=!0,a._targetsBound++,t.on("webkitTransitionEnd.mixItUp transitionend.mixItUp",function(e){(-1<e.originalEvent.propertyName.indexOf("transform")||-1<e.originalEvent.propertyName.indexOf("opacity"))&&d(e.originalEvent.target).is(a.selectors.target)&&(t.off(".mixItUp"),delete i.dataset.bound,a._targetDone())})),a._execAction("_bindTargetDone",1,arguments)},_targetDone:function(){var e=this;e._execAction("_targetDone",0),e._targetsDone++,e._targetsDone===e._targetsBound&&e._cleanUp(),e._execAction("_targetDone",1)},_cleanUp:function(){var e=this,t=e.animation.animateResizeTargets?"transform opacity width height margin-bottom margin-right":"transform opacity";unBrake=function(){e._$targets.removeStyle("transition",e._prefix)},e._execAction("_cleanUp",0),e._changingLayout?e._$show.css("display",e._newDisplay):e._$show.css("display",e.layout.display),e._$targets.css(e._brake),e._$targets.removeStyle(t,e._prefix).removeAttr("data-inter-pos-x data-inter-pos-y data-final-pos-x data-final-pos-y data-orig-pos-x data-orig-pos-y data-orig-height data-orig-width data-final-height data-final-width data-inter-width data-inter-height data-orig-margin-right data-orig-margin-bottom data-inter-margin-right data-inter-margin-bottom data-final-margin-right data-final-margin-bottom"),e._$hide.removeStyle("display"),e._$parent.removeStyle("height transition perspective-distance perspective perspective-origin-x perspective-origin-y perspective-origin perspectiveOrigin",e._prefix),e._sorting&&(e._printSort(),e._activeSort=e._newSortString,e._sorting=!1),e._changingLayout&&(e._changingDisplay&&(e.layout.display=e._newDisplay,e._changingDisplay=!1),e._changingClass&&(e._$parent.removeClass(e.layout.containerClass).addClass(e._newClass),e.layout.containerClass=e._newClass,e._changingClass=!1),e._changingLayout=!1),e._refresh(),e._buildState(),e._state.fail&&e._$container.addClass(e.layout.containerClassFail),e._$show=d(),e._$hide=d(),window.requestAnimationFrame&&requestAnimationFrame(unBrake),e._mixing=!1,"function"==typeof e.callbacks._user&&e.callbacks._user.call(e._domNode,e._state,e),"function"==typeof e.callbacks.onMixEnd&&e.callbacks.onMixEnd.call(e._domNode,e._state,e),e._$container.trigger("mixEnd",[e._state,e]),e._state.fail&&("function"==typeof e.callbacks.onMixFail&&e.callbacks.onMixFail.call(e._domNode,e._state,e),e._$container.trigger("mixFail",[e._state,e])),e._loading&&("function"==typeof e.callbacks.onMixLoad&&e.callbacks.onMixLoad.call(e._domNode,e._state,e),e._$container.trigger("mixLoad",[e._state,e])),e._queue.length&&(e._execAction("_queue",0),e.multiMix(e._queue[0][0],e._queue[0][1],e._queue[0][2]),e._queue.splice(0,1)),e._execAction("_cleanUp",1),e._loading=!1},_getPrefixedCSS:function(e,t,a){var n={};for(i=0;i<2;i++){var r=0===i?this._prefix:"";n[r+e]=a?r+t:t}return this._execFilter("_getPrefixedCSS",n,arguments)},_getDelay:function(e){var t=this,a="function"==typeof t.animation.staggerFunction?t.animation.staggerFunction.call(t._domNode,e,t._state):e,i=t.animation.stagger?a*t.animation.staggerDuration:0;return t._execFilter("_getDelay",i,arguments)},_parseMultiMixArgs:function(e){for(var t={command:null,animate:this.animation.enable,callback:null},a=0;a<e.length;a++){var i=e[a];null!==i&&("object"==typeof i||"string"==typeof i?t.command=i:"boolean"==typeof i?t.animate=i:"function"==typeof i&&(t.callback=i))}return this._execFilter("_parseMultiMixArgs",t,arguments)},_parseInsertArgs:function(e){for(var t={index:0,$object:d(),multiMix:{filter:this._state.activeFilter},callback:null},a=0;a<e.length;a++){var i=e[a];"number"==typeof i?t.index=i:"object"==typeof i&&i instanceof d?t.$object=i:"object"==typeof i&&this._helpers._isElement(i)?t.$object=d(i):"object"==typeof i&&null!==i?t.multiMix=i:"boolean"!=typeof i||i?"function"==typeof i&&(t.callback=i):t.multiMix=!1}return this._execFilter("_parseInsertArgs",t,arguments)},_execAction:function(e,t,a){var i=this,n=t?"post":"pre";if(!i._actions.isEmptyObject&&i._actions.hasOwnProperty(e))for(var r in i._actions[e][n])i._actions[e][n][r].call(i,a)},_execFilter:function(e,t,a){var i=this;if(i._filters.isEmptyObject||!i._filters.hasOwnProperty(e))return t;for(var n in i._filters[e])return i._filters[e][n].call(i,a)},_helpers:{_camelCase:function(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})},_isElement:function(e){return window.HTMLElement?e instanceof HTMLElement:null!==e&&1===e.nodeType&&"string"===e.nodeName}},isMixing:function(){return this._execFilter("isMixing",this._mixing)},filter:function(){var e=this._parseMultiMixArgs(arguments);this._clicking&&(this._toggleString=""),this.multiMix({filter:e.command},e.animate,e.callback)},sort:function(){var e=this._parseMultiMixArgs(arguments);this.multiMix({sort:e.command},e.animate,e.callback)},changeLayout:function(){var e=this._parseMultiMixArgs(arguments);this.multiMix({changeLayout:e.command},e.animate,e.callback)},multiMix:function(){var e=this,t=e._parseMultiMixArgs(arguments);if(e._execAction("multiMix",0,arguments),e._mixing)e.animation.queue&&e._queue.length<e.animation.queueLimit?(e._queue.push(arguments),e.controls.enable&&!e._clicking&&e._updateControls(t.command),e._execAction("multiMixQueue",1,arguments)):("function"==typeof e.callbacks.onMixBusy&&e.callbacks.onMixBusy.call(e._domNode,e._state,e),e._$container.trigger("mixBusy",[e._state,e]),e._execAction("multiMixBusy",1,arguments));else{e.controls.enable&&!e._clicking&&(e.controls.toggleFilterButtons&&e._buildToggleArray(),e._updateControls(t.command,e.controls.toggleFilterButtons)),e._queue.length<2&&(e._clicking=!1),delete e.callbacks._user,t.callback&&(e.callbacks._user=t.callback);var a=t.command.sort,i=t.command.filter,n=t.command.changeLayout;e._refresh(),a&&(e._newSort=e._parseSort(a),e._newSortString=a,e._sorting=!0,e._sort()),i!==u&&(i="all"===i?e.selectors.target:i,e._activeFilter=i),e._filter(),n&&(e._newDisplay="string"==typeof n?n:n.display||e.layout.display,e._newClass=n.containerClass||"",e._newDisplay===e.layout.display&&e._newClass===e.layout.containerClass||(e._changingLayout=!0,e._changingClass=e._newClass!==e.layout.containerClass,e._changingDisplay=e._newDisplay!==e.layout.display)),e._$targets.css(e._brake),e._goMix(t.animate^e.animation.enable?t.animate:e.animation.enable),e._execAction("multiMix",1,arguments)}},insert:function(){var e=this,t=e._parseInsertArgs(arguments),a="function"==typeof t.callback?t.callback:null,i=document.createDocumentFragment(),n=(e._refresh(),e._$targets.length?t.index<e._$targets.length||!e._$targets.length?e._$targets[t.index]:e._$targets[e._$targets.length-1].nextElementSibling:e._$parent[0].children[0]);if(e._execAction("insert",0,arguments),t.$object){for(var r=0;r<t.$object.length;r++){var o=t.$object[r];i.appendChild(o),i.appendChild(document.createTextNode(" "))}e._$parent[0].insertBefore(i,n)}e._execAction("insert",1,arguments),"object"==typeof t.multiMix&&e.multiMix(t.multiMix,a)},prepend:function(){var e=this._parseInsertArgs(arguments);this.insert(0,e.$object,e.multiMix,e.callback)},append:function(){var e=this._parseInsertArgs(arguments);this.insert(this._state.totalTargets,e.$object,e.multiMix,e.callback)},getOption:function(e){return e?this._execFilter("getOption",function(e,t){for(var a=t.split("."),i=a.pop(),n=a.length,r=1,o=a[0]||t;(e=e[o])&&r<n;)o=a[r],r++;if(e!==u)return e[i]!==u?e[i]:e}(this,e),arguments):this},setOptions:function(e){this._execAction("setOptions",0,arguments),"object"==typeof e&&d.extend(!0,this,e),this._execAction("setOptions",1,arguments)},getState:function(){return this._execFilter("getState",this._state,this)},forceRefresh:function(){this._refresh(!1,!0)},destroy:function(e){var t=this;t._execAction("destroy",0,arguments),t._$body.add(d(t.selectors.sort)).add(d(t.selectors.filter)).off(".mixItUp");for(var a=0;a<t._$targets.length;a++){var i=t._$targets[a];e&&(i.style.display=""),delete i.mixParent}t._execAction("destroy",1,arguments),delete d.MixItUp.prototype._instances[t._id]}},d.fn.mixItUp=function(){var e,a=arguments,i=[];return e=this.each(function(){if(a&&"string"==typeof a[0]){var e=d.MixItUp.prototype._instances[this.id];if("isLoaded"==a[0])i.push(!!e);else{var t=e[a[0]](a[1],a[2],a[3]);t!==u&&i.push(t)}}else!function(e,t){var a=new d.MixItUp;a._execAction("_instantiate",0,arguments),e.id=e.id?e.id:"MixItUp"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6).toUpperCase(),a._instances[e.id]||(a._instances[e.id]=a)._init(e,t),a._execAction("_instantiate",1,arguments)}(this,a[0])}),i.length?1<i.length?i:i[0]:e},d.fn.removeStyle=function(r,o){return o=o||"",this.each(function(){for(var e=this,t=r.split(" "),a=0;a<t.length;a++)for(var i=0;i<2;i++){var n=i?t[a]:o+t[a];if(e.style[n]!==u&&"unknown"!=typeof e.style[n]&&0<e.style[n].length&&(e.style[n]=""),!o)break}e.attributes&&e.attributes.style&&e.attributes.style!==u&&""===e.attributes.style.nodeValue&&e.attributes.removeNamedItem("style")})}}(jQuery),function(n,a,N,p){"use strict";var r=N("html"),o=N(n),c=N(a),L=N.fancybox=function(){L.open.apply(this,arguments)},s=navigator.userAgent.match(/msie/i),l=null,d=a.createTouch!==p,f=function(e){return e&&e.hasOwnProperty&&e instanceof N},g=function(e){return e&&"string"===N.type(e)},E=function(e){return g(e)&&0<e.indexOf("%")},W=function(e,t){var a=parseInt(e,10)||0;return t&&E(e)&&(a=L.getViewport()[t]/100*a),Math.ceil(a)},H=function(e,t){return W(e,t)+"px"};N.extend(L,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!d,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(s?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:N.noop,beforeLoad:N.noop,afterLoad:N.noop,beforeShow:N.noop,afterShow:N.noop,beforeChange:N.noop,beforeClose:N.noop,afterClose:N.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(d,u){if(d&&(N.isPlainObject(u)||(u={}),!1!==L.close(!0)))return N.isArray(d)||(d=f(d)?N(d).get():[d]),N.each(d,function(e,t){var a,i,n,r,o,s,l,c={};"object"===N.type(t)&&(t.nodeType&&(t=N(t)),f(t)?(c={href:t.data("fancybox-href")||t.attr("href"),title:t.data("fancybox-title")||t.attr("title"),isDom:!0,element:t},N.metadata&&N.extend(!0,c,t.metadata())):c=t),a=u.href||c.href||(g(t)?t:null),i=u.title!==p?u.title:c.title||"",!(r=(n=u.content||c.content)?"html":u.type||c.type)&&c.isDom&&((r=t.data("fancybox-type"))||(r=(o=t.prop("class").match(/fancybox\.(\w+)/))?o[1]:null)),g(a)&&(r||(L.isImage(a)?r="image":L.isSWF(a)?r="swf":"#"===a.charAt(0)?r="inline":g(t)&&(r="html",n=t)),"ajax"===r&&(a=(s=a.split(/\s+/,2)).shift(),l=s.shift())),n||("inline"===r?a?n=N(g(a)?a.replace(/.*(?=#[^\s]+$)/,""):a):c.isDom&&(n=t):"html"===r?n=a:r||a||!c.isDom||(r="inline",n=t)),N.extend(c,{href:a,type:r,content:n,title:i,selector:l}),d[e]=c}),L.opts=N.extend(!0,{},L.defaults,u),u.keys!==p&&(L.opts.keys=!!u.keys&&N.extend({},L.defaults.keys,u.keys)),L.group=d,L._start(L.opts.index)},cancel:function(){var e=L.coming;e&&!1!==L.trigger("onCancel")&&(L.hideLoading(),L.ajaxLoad&&L.ajaxLoad.abort(),L.ajaxLoad=null,L.imgPreload&&(L.imgPreload.onload=L.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),L.coming=null,L.current||L._afterZoomOut(e))},close:function(e){L.cancel(),!1!==L.trigger("beforeClose")&&(L.unbindEvents(),L.isActive&&(L.isOpen&&!0!==e?(L.isOpen=L.isOpened=!1,L.isClosing=!0,N(".fancybox-item, .fancybox-nav").remove(),L.wrap.stop(!0,!0).removeClass("fancybox-opened"),L.transitions[L.current.closeMethod]()):(N(".fancybox-wrap").stop(!0).trigger("onReset").remove(),L._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(L.player.timer)},a=function(){t(),L.current&&L.player.isActive&&(L.player.timer=setTimeout(L.next,L.current.playSpeed))},i=function(){t(),c.unbind(".player"),L.player.isActive=!1,L.trigger("onPlayEnd")};!0===e||!L.player.isActive&&!1!==e?L.current&&(L.current.loop||L.current.index<L.group.length-1)&&(L.player.isActive=!0,c.bind({"onCancel.player beforeClose.player":i,"onUpdate.player":a,"beforeLoad.player":t}),a(),L.trigger("onPlayStart")):i()},next:function(e){var t=L.current;t&&(g(e)||(e=t.direction.next),L.jumpto(t.index+1,e,"next"))},prev:function(e){var t=L.current;t&&(g(e)||(e=t.direction.prev),L.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,a){var i=L.current;i&&(e=W(e),L.direction=t||i.direction[e>=i.index?"next":"prev"],L.router=a||"jumpto",i.loop&&(e<0&&(e=i.group.length+e%i.group.length),e%=i.group.length),i.group[e]!==p&&(L.cancel(),L._start(e)))},reposition:function(e,t){var a,i=L.current,n=i?i.wrap:null;n&&(a=L._getPosition(t),e&&"scroll"===e.type?(delete a.position,n.stop(!0,!0).animate(a,200)):(n.css(a),i.pos=N.extend({},i.dim,a)))},update:function(t){var a=t&&t.type,i=!a||"orientationchange"===a;i&&(clearTimeout(l),l=null),L.isOpen&&!l&&(l=setTimeout(function(){var e=L.current;e&&!L.isClosing&&(L.wrap.removeClass("fancybox-tmp"),(i||"load"===a||"resize"===a&&e.autoResize)&&L._setDimension(),"scroll"===a&&e.canShrink||L.reposition(t),L.trigger("onUpdate"),l=null)},i&&!d?0:300))},toggle:function(e){L.isOpen&&(L.current.fitToView="boolean"===N.type(e)?e:!L.current.fitToView,d&&(L.wrap.removeAttr("style").addClass("fancybox-tmp"),L.trigger("onUpdate")),L.update())},hideLoading:function(){c.unbind(".loading"),N("#fancybox-loading").remove()},showLoading:function(){var e,t;L.hideLoading(),e=N('<div id="fancybox-loading"><div></div></div>').click(L.cancel).appendTo("body"),c.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),L.cancel())}),L.defaults.fixed||(t=L.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var e=L.current&&L.current.locked||!1,t={x:o.scrollLeft(),y:o.scrollTop()};return e?(t.w=e[0].clientWidth,t.h=e[0].clientHeight):(t.w=d&&n.innerWidth?n.innerWidth:o.width(),t.h=d&&n.innerHeight?n.innerHeight:o.height()),t},unbindEvents:function(){L.wrap&&f(L.wrap)&&L.wrap.unbind(".fb"),c.unbind(".fb"),o.unbind(".fb")},bindEvents:function(){var t,l=L.current;l&&(o.bind("orientationchange.fb"+(d?"":" resize.fb")+(l.autoCenter&&!l.locked?" scroll.fb":""),L.update),(t=l.keys)&&c.bind("keydown.fb",function(a){var i=a.which||a.keyCode,e=a.target||a.srcElement;if(27===i&&L.coming)return!1;a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||e&&(e.type||N(e).is("[contenteditable]"))||N.each(t,function(e,t){return 1<l.group.length&&t[i]!==p?(L[e](t[i]),a.preventDefault(),!1):-1<N.inArray(i,t)?(L[e](),a.preventDefault(),!1):void 0})}),N.fn.mousewheel&&l.mouseWheel&&L.wrap.bind("mousewheel.fb",function(e,t,a,i){for(var n,r=e.target||null,o=N(r),s=!1;o.length&&!(s||o.is(".fancybox-skin")||o.is(".fancybox-wrap"));)s=(n=o[0])&&!(n.style.overflow&&"hidden"===n.style.overflow)&&(n.clientWidth&&n.scrollWidth>n.clientWidth||n.clientHeight&&n.scrollHeight>n.clientHeight),o=N(o).parent();0===t||s||1<L.group.length&&!l.canShrink&&(0<i||0<a?L.prev(0<i?"down":"left"):(i<0||a<0)&&L.next(i<0?"up":"right"),e.preventDefault())}))},trigger:function(a,e){var t,i=e||L.coming||L.current;if(i){if(N.isFunction(i[a])&&(t=i[a].apply(i,Array.prototype.slice.call(arguments,1))),!1===t)return!1;i.helpers&&N.each(i.helpers,function(e,t){t&&L.helpers[e]&&N.isFunction(L.helpers[e][a])&&L.helpers[e][a](N.extend(!0,{},L.helpers[e].defaults,t),i)}),c.trigger(a)}},isImage:function(e){return g(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(e){return g(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,a,i,n,r,o={};if(e=W(e),!(t=L.group[e]||null))return!1;if(n=(o=N.extend(!0,{},L.opts,t)).margin,r=o.padding,"number"===N.type(n)&&(o.margin=[n,n,n,n]),"number"===N.type(r)&&(o.padding=[r,r,r,r]),o.modal&&N.extend(!0,o,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),o.autoSize&&(o.autoWidth=o.autoHeight=!0),"auto"===o.width&&(o.autoWidth=!0),"auto"===o.height&&(o.autoHeight=!0),o.group=L.group,o.index=e,L.coming=o,!1!==L.trigger("beforeLoad")){if(i=o.type,a=o.href,!i)return L.coming=null,!(!L.current||!L.router||"jumpto"===L.router)&&(L.current.index=e,L[L.router](L.direction));if(L.isActive=!0,"image"!==i&&"swf"!==i||(o.autoHeight=o.autoWidth=!1,o.scrolling="visible"),"image"===i&&(o.aspectRatio=!0),"iframe"===i&&d&&(o.scrolling="scroll"),o.wrap=N(o.tpl.wrap).addClass("fancybox-"+(d?"mobile":"desktop")+" fancybox-type-"+i+" fancybox-tmp "+o.wrapCSS).appendTo(o.parent||"body"),N.extend(o,{skin:N(".fancybox-skin",o.wrap),outer:N(".fancybox-outer",o.wrap),inner:N(".fancybox-inner",o.wrap)}),N.each(["Top","Right","Bottom","Left"],function(e,t){o.skin.css("padding"+t,H(o.padding[e]))}),L.trigger("onReady"),"inline"===i||"html"===i){if(!o.content||!o.content.length)return L._error("content")}else if(!a)return L._error("href");"image"===i?L._loadImage():"ajax"===i?L._loadAjax():"iframe"===i?L._loadIframe():L._afterLoad()}else L.coming=null},_error:function(e){N.extend(L.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:L.coming.tpl.error}),L._afterLoad()},_loadImage:function(){var e=L.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,L.coming.width=this.width/L.opts.pixelRatio,L.coming.height=this.height/L.opts.pixelRatio,L._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,L._error("image")},e.src=L.coming.href,!0!==e.complete&&L.showLoading()},_loadAjax:function(){var a=L.coming;L.showLoading(),L.ajaxLoad=N.ajax(N.extend({},a.ajax,{url:a.href,error:function(e,t){L.coming&&"abort"!==t?L._error("ajax",e):L.hideLoading()},success:function(e,t){"success"===t&&(a.content=e,L._afterLoad())}}))},_loadIframe:function(){var e=L.coming,t=N(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",d?"auto":e.iframe.scrolling).attr("src",e.href);N(e.wrap).bind("onReset",function(){try{N(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),e.iframe.preload&&(L.showLoading(),t.one("load",function(){N(this).data("ready",1),d||N(this).bind("load.fb",L.update),N(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),L._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||L._afterLoad()},_preloadImages:function(){var e,t,a=L.group,i=L.current,n=a.length,r=i.preload?Math.min(i.preload,n-1):0;for(t=1;t<=r;t+=1)"image"===(e=a[(i.index+t)%n]).type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,a,t,i,n,r,o=L.coming,s=L.current,l="fancybox-placeholder";if(L.hideLoading(),o&&!1!==L.isActive){if(!1===L.trigger("afterLoad",o,s))return o.wrap.stop(!0).trigger("onReset").remove(),void(L.coming=null);switch(s&&(L.trigger("beforeChange",s),s.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),L.unbindEvents(),a=(e=o).content,t=o.type,i=o.scrolling,N.extend(L,{wrap:e.wrap,skin:e.skin,outer:e.outer,inner:e.inner,current:e,previous:s}),n=e.href,t){case"inline":case"ajax":case"html":e.selector?a=N("<div>").html(a).find(e.selector):f(a)&&(a.data(l)||a.data(l,N('<div class="'+l+'"></div>').insertAfter(a).hide()),a=a.show().detach(),e.wrap.bind("onReset",function(){N(this).find(a).length&&a.hide().replaceAll(a.data(l)).data(l,!1)}));break;case"image":a=e.tpl.image.replace("{href}",n);break;case"swf":a='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+n+'"></param>',r="",N.each(e.swf,function(e,t){a+='<param name="'+e+'" value="'+t+'"></param>',r+=" "+e+'="'+t+'"'}),a+='<embed src="'+n+'" type="application/x-shockwave-flash" width="100%" height="100%"'+r+"></embed></object>"}f(a)&&a.parent().is(e.inner)||e.inner.append(a),L.trigger("beforeShow"),e.inner.css("overflow","yes"===i?"scroll":"no"===i?"hidden":i),L._setDimension(),L.reposition(),L.isOpen=!1,L.coming=null,L.bindEvents(),L.isOpened?s.prevMethod&&L.transitions[s.prevMethod]():N(".fancybox-wrap").not(e.wrap).stop(!0).trigger("onReset").remove(),L.transitions[L.isOpened?e.nextMethod:e.openMethod](),L._preloadImages()}},_setDimension:function(){var e,t,a,i,n,r,o,s,l,c,d,u,p,f,g,h,m,v=L.getViewport(),_=0,y=L.wrap,x=L.skin,b=L.inner,w=L.current,S=w.width,C=w.height,A=w.minWidth,M=w.minHeight,k=w.maxWidth,T=w.maxHeight,$=w.scrolling,P=w.scrollOutside?w.scrollbarWidth:0,O=w.margin,I=W(O[1]+O[3]),D=W(O[0]+O[2]);if(y.add(x).add(b).width("auto").height("auto").removeClass("fancybox-tmp"),n=I+(a=W(x.outerWidth(!0)-x.width())),r=D+(i=W(x.outerHeight(!0)-x.height())),o=E(S)?(v.w-n)*W(S)/100:S,s=E(C)?(v.h-r)*W(C)/100:C,"iframe"===w.type){if(h=w.content,w.autoHeight&&1===h.data("ready"))try{h[0].contentWindow.document.location&&(b.width(o).height(9999),m=h.contents().find("body"),P&&m.css("overflow-x","hidden"),s=m.outerHeight(!0))}catch(e){}}else(w.autoWidth||w.autoHeight)&&(b.addClass("fancybox-tmp"),w.autoWidth||b.width(o),w.autoHeight||b.height(s),w.autoWidth&&(o=b.width()),w.autoHeight&&(s=b.height()),b.removeClass("fancybox-tmp"));if(S=W(o),C=W(s),d=o/s,A=W(E(A)?W(A,"w")-n:A),k=W(E(k)?W(k,"w")-n:k),M=W(E(M)?W(M,"h")-r:M),l=k,c=T=W(E(T)?W(T,"h")-r:T),w.fitToView&&(k=Math.min(v.w-n,k),T=Math.min(v.h-r,T)),f=v.w-I,g=v.h-D,w.aspectRatio?(k<S&&(C=W((S=k)/d)),T<C&&(S=W((C=T)*d)),S<A&&(C=W((S=A)/d)),C<M&&(S=W((C=M)*d))):(S=Math.max(A,Math.min(S,k)),w.autoHeight&&"iframe"!==w.type&&(b.width(S),C=b.height()),C=Math.max(M,Math.min(C,T))),w.fitToView)if(b.width(S).height(C),y.width(S+a),u=y.width(),p=y.height(),w.aspectRatio)for(;(f<u||g<p)&&A<S&&M<C&&!(19<_++);)C=Math.max(M,Math.min(T,C-10)),(S=W(C*d))<A&&(C=W((S=A)/d)),k<S&&(C=W((S=k)/d)),b.width(S).height(C),y.width(S+a),u=y.width(),p=y.height();else S=Math.max(A,Math.min(S,S-(u-f))),C=Math.max(M,Math.min(C,C-(p-g)));P&&"auto"===$&&C<s&&S+a+P<f&&(S+=P),b.width(S).height(C),y.width(S+a),u=y.width(),p=y.height(),e=(f<u||g<p)&&A<S&&M<C,t=w.aspectRatio?S<l&&C<c&&S<o&&C<s:(S<l||C<c)&&(S<o||C<s),N.extend(w,{dim:{width:H(u),height:H(p)},origWidth:o,origHeight:s,canShrink:e,canExpand:t,wPadding:a,hPadding:i,wrapSpace:p-x.outerHeight(!0),skinSpace:x.height()-C}),!h&&w.autoHeight&&M<C&&C<T&&!t&&b.height("auto")},_getPosition:function(e){var t=L.current,a=L.getViewport(),i=t.margin,n=L.wrap.width()+i[1]+i[3],r=L.wrap.height()+i[0]+i[2],o={position:"absolute",top:i[0],left:i[3]};return t.autoCenter&&t.fixed&&!e&&r<=a.h&&n<=a.w?o.position="fixed":t.locked||(o.top+=a.y,o.left+=a.x),o.top=H(Math.max(o.top,o.top+(a.h-r)*t.topRatio)),o.left=H(Math.max(o.left,o.left+(a.w-n)*t.leftRatio)),o},_afterZoomIn:function(){var t=L.current;t&&(L.isOpen=L.isOpened=!0,L.wrap.css("overflow","visible").addClass("fancybox-opened"),L.update(),(t.closeClick||t.nextClick&&1<L.group.length)&&L.inner.css("cursor","pointer").bind("click.fb",function(e){N(e.target).is("a")||N(e.target).parent().is("a")||(e.preventDefault(),L[t.closeClick?"close":"next"]())}),t.closeBtn&&N(t.tpl.closeBtn).appendTo(L.skin).bind("click.fb",function(e){e.preventDefault(),L.close()}),t.arrows&&1<L.group.length&&((t.loop||0<t.index)&&N(t.tpl.prev).appendTo(L.outer).bind("click.fb",L.prev),(t.loop||t.index<L.group.length-1)&&N(t.tpl.next).appendTo(L.outer).bind("click.fb",L.next)),L.trigger("afterShow"),t.loop||t.index!==t.group.length-1?L.opts.autoPlay&&!L.player.isActive&&(L.opts.autoPlay=!1,L.play()):L.play(!1))},_afterZoomOut:function(e){e=e||L.current,N(".fancybox-wrap").trigger("onReset").remove(),N.extend(L,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),L.trigger("afterClose",e)}}),L.transitions={getOrigPosition:function(){var e=L.current,t=e.element,a=e.orig,i={},n=50,r=50,o=e.hPadding,s=e.wPadding,l=L.getViewport();return!a&&e.isDom&&t.is(":visible")&&((a=t.find("img:first")).length||(a=t)),f(a)?(i=a.offset(),a.is("img")&&(n=a.outerWidth(),r=a.outerHeight())):(i.top=l.y+(l.h-r)*e.topRatio,i.left=l.x+(l.w-n)*e.leftRatio),("fixed"===L.wrap.css("position")||e.locked)&&(i.top-=l.y,i.left-=l.x),i={top:H(i.top-o*e.topRatio),left:H(i.left-s*e.leftRatio),width:H(n+s),height:H(r+o)}},step:function(e,t){var a,i,n=t.prop,r=L.current,o=r.wrapSpace,s=r.skinSpace;"width"!==n&&"height"!==n||(a=t.end===t.start?1:(e-t.start)/(t.end-t.start),L.isClosing&&(a=1-a),i=e-("width"===n?r.wPadding:r.hPadding),L.skin[n](W("width"===n?i:i-o*a)),L.inner[n](W("width"===n?i:i-o*a-s*a)))},zoomIn:function(){var e=L.current,t=e.pos,a=e.openEffect,i="elastic"===a,n=N.extend({opacity:1},t);delete n.position,i?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===a&&(t.opacity=.1),L.wrap.css(t).animate(n,{duration:"none"===a?0:e.openSpeed,easing:e.openEasing,step:i?this.step:null,complete:L._afterZoomIn})},zoomOut:function(){var e=L.current,t=e.closeEffect,a="elastic"===t,i={opacity:.1};a&&(i=this.getOrigPosition(),e.closeOpacity&&(i.opacity=.1)),L.wrap.animate(i,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:a?this.step:null,complete:L._afterZoomOut})},changeIn:function(){var e,t=L.current,a=t.nextEffect,i=t.pos,n={opacity:1},r=L.direction;i.opacity=.1,"elastic"===a&&(e="down"===r||"up"===r?"top":"left","down"===r||"right"===r?(i[e]=H(W(i[e])-200),n[e]="+=200px"):(i[e]=H(W(i[e])+200),n[e]="-=200px")),"none"===a?L._afterZoomIn():L.wrap.css(i).animate(n,{duration:t.nextSpeed,easing:t.nextEasing,complete:L._afterZoomIn})},changeOut:function(){var e=L.previous,t=e.prevEffect,a={opacity:.1},i=L.direction;"elastic"===t&&(a["down"===i||"up"===i?"top":"left"]=("up"===i||"left"===i?"-":"+")+"=200px"),e.wrap.animate(a,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){N(this).trigger("onReset").remove()}})}},L.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!d,fixed:!0},overlay:null,fixed:!1,el:N("html"),create:function(e){e=N.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=N('<div class="fancybox-overlay"></div>').appendTo(L.coming?L.coming.parent:e.parent),this.fixed=!1,e.fixed&&L.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=N.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(o.bind("resize.overlay",N.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){if(N(e.target).hasClass("fancybox-overlay"))return L.isActive?L.close():t.close(),!1}),this.overlay.css(e.css).show()},close:function(){var e,t;o.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(N(".fancybox-margin").removeClass("fancybox-margin"),e=o.scrollTop(),t=o.scrollLeft(),this.el.removeClass("fancybox-lock"),o.scrollTop(e).scrollLeft(t)),N(".fancybox-overlay").remove().hide(),N.extend(this,{overlay:null,fixed:!1})},update:function(){var e,t="100%";this.overlay.width(t).height("100%"),s?(e=Math.max(a.documentElement.offsetWidth,a.body.offsetWidth),c.width()>e&&(t=c.width())):c.width()>o.width()&&(t=c.width()),this.overlay.width(t).height(c.height())},onReady:function(e,t){var a=this.overlay;N(".fancybox-overlay").stop(!0,!0),a||this.create(e),e.locked&&this.fixed&&t.fixed&&(a||(this.margin=c.height()>o.height()&&N("html").css("margin-right").replace("px","")),t.locked=this.overlay.append(t.wrap),t.fixed=!1),!0===e.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var a,i;t.locked&&(!1!==this.margin&&(N("*").filter(function(){return"fixed"===N(this).css("position")&&!N(this).hasClass("fancybox-overlay")&&!N(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),a=o.scrollTop(),i=o.scrollLeft(),this.el.addClass("fancybox-lock"),o.scrollTop(a).scrollLeft(i)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!L.coming&&this.overlay.fadeOut(e.speedOut,N.proxy(this.close,this))}},L.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t,a,i=L.current,n=i.title,r=e.type;if(N.isFunction(n)&&(n=n.call(i.element,i)),g(n)&&""!==N.trim(n)){switch(t=N('<div class="fancybox-title fancybox-title-'+r+'-wrap">'+n+"</div>"),r){case"inside":a=L.skin;break;case"outside":a=L.wrap;break;case"over":a=L.inner;break;default:a=L.skin,t.appendTo("body"),s&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),L.current.margin[2]+=Math.abs(W(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](a)}}},N.fn.fancybox=function(r){var o,s=N(this),l=this.selector||"",e=function(e){var t,a,i=N(this).blur(),n=o;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||i.is(".fancybox-wrap")||(t=r.groupAttr||"data-fancybox-group",(a=i.attr(t))||(t="rel",a=i.get(0)[t]),a&&""!==a&&"nofollow"!==a&&(n=(i=(i=l.length?N(l):s).filter("["+t+'="'+a+'"]')).index(this)),r.index=n,!1!==L.open(i,r)&&e.preventDefault())};return o=(r=r||{}).index||0,l&&!1!==r.live?c.undelegate(l,"click.fb-start").delegate(l+":not('.fancybox-item, .fancybox-nav')","click.fb-start",e):s.unbind("click.fb-start").bind("click.fb-start",e),this.filter("[data-fancybox-start=1]").trigger("click"),this},c.ready(function(){var e,t,a,i;N.scrollbarWidth===p&&(N.scrollbarWidth=function(){var e=N('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),a=t.innerWidth()-t.height(99).innerWidth();return e.remove(),a}),N.support.fixedPosition===p&&(N.support.fixedPosition=(a=N('<div style="position:fixed;top:20px;"></div>').appendTo("body"),i=20===a[0].offsetTop||15===a[0].offsetTop,a.remove(),i)),N.extend(L.defaults,{scrollbarWidth:N.scrollbarWidth(),fixed:N.support.fixedPosition,parent:N("body")}),e=N(n).width(),r.addClass("fancybox-lock-test"),t=N(n).width(),r.removeClass("fancybox-lock-test"),N("<style type='text/css'>.fancybox-margin{margin-right:"+(t-e)+"px;}</style>").appendTo("head")})}(window,document,jQuery);